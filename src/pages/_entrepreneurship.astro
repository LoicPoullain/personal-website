---
import NewsLetterCard from "../components/cards/NewsLetterCard.astro";
import TopicPage from "../layouts/TopicPage.astro";
import TopicSection from "../layouts/TopicSection.astro";
import OrganizationListCard from "../components/cards/OrganizationListCard.astro";
import TopicPageFirstColumn from "../layouts/TopicPageFirstColumn.astro";
import TopicPageSecondColumn from "../layouts/TopicPageSecondColumn.astro";
import linitoLogo from "./assets/logos/linito.png";
import LinkCard from "../components/cards/LinkCard.astro";
import { formatAndSortArticles } from "../utils/format-and-sort-articles";

const articles = formatAndSortArticles(import.meta.glob('./entrepreneurship/articles/*.md', { eager: true }));
---

<TopicPage
  title="Entrepreneurship"
  description="My company and some testimonials and thoughts on my entrepreneurial journey."
>
  <TopicPageFirstColumn>
    <TopicSection title="Articles">
      {articles.map(article => (
        <LinkCard 
          title={article.title}
          description={article.description}
          url={article.url}
          date={article.pubDate}
          linkText="Read article"
        />
      ))}
      <p class="text-sm text-zinc-600">No article yet.</p>
    </TopicSection>
  </TopicPageFirstColumn>
  <TopicPageSecondColumn>
    <NewsLetterCard category="entrepreneurship" />
    <OrganizationListCard
      title="Companies"
      organizations={[
        {
          name: "Linito",
          role: "Founder",
          startDate: "2024",
          endDate: "Present",
          url: "https://www.linito.io/",
          image: linitoLogo,
        },
      ]}
      type="work"
    />
  </TopicPageSecondColumn>
</TopicPage>